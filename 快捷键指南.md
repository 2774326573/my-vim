# Vim 快捷键完全指南 (LazyVim 风格)
**Leader 键 = 空格键 (Space)**

---

## 📋 目录
- [通用操作](#通用操作)
- [文件操作](#文件操作)
- [窗口管理](#窗口管理)
- [Buffer 管理](#buffer-管理)
- [标签页管理](#标签页管理)
- [编辑操作](#编辑操作)
- [快速移动](#快速移动)
- [搜索和查找](#搜索和查找)
- [LSP 代码智能](#lsp-代码智能)
- [Git 操作](#git-操作)
- [调试功能](#调试功能)
- [主题切换](#主题切换)
- [实用工具](#实用工具)

---

## 🚀 通用操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>w` | 保存文件 | 等同于 `:w` |
| `<leader>q` | 退出当前窗口 | 等同于 `:q` |
| `<leader>Q` | 强制退出所有 | 等同于 `:qa!` |
| `<leader>x` | 保存并退出 | 等同于 `:x` |
| `<leader>qq` | 退出所有 | LazyVim 风格 |
| `<Esc><Esc>` | 清除搜索高亮 | 双击 Esc |
| `<leader>nh` | 清除搜索高亮 | 手动清除 |

---

## 📂 文件操作

### 文件查找 (FZF)
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>ff` | 查找文件 | Files |
| `<leader>fg` | 全文搜索 | Ripgrep |
| `<leader>fb` | 搜索 Buffer | Buffers |
| `<leader>fh` | 搜索帮助 | Helptags |
| `<leader>fr` | 最近文件 | History |
| `<leader>fc` | 命令历史 | Command History |
| `<leader>fm` | 搜索标记 | Marks |
| `<leader>fw` | 搜索窗口 | Windows |
| `<leader>fn` | 新建文件 | New file |

### LazyVim 快捷方式
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader><space>` | Buffer 列表 | 快速切换 |
| `<leader>/` | 全文搜索 | Ripgrep |
| `<leader>,` | Buffer 列表 | 同上 |
| `<leader>:` | 命令历史 | Command History |

### 文件浏览器
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>e` | 切换文件树 | NERDTree |
| `<leader>fe` | 切换文件树 | LazyVim 风格 |
| `<leader>nf` | 定位当前文件 | NERDTree Find |

---

## 🪟 窗口管理

### 窗口导航
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+h` | 移动到左窗口 | 标准导航 |
| `Ctrl+j` | 移动到下窗口 | 标准导航 |
| `Ctrl+k` | 移动到上窗口 | 标准导航 |
| `Ctrl+l` | 移动到右窗口 | 标准导航 |

### 窗口操作 (LazyVim)
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>ww` | 切换窗口 | Window switch |
| `<leader>wd` | 删除窗口 | Window delete |
| `<leader>ws` | 水平分屏 | Split horizontal |
| `<leader>wv` | 垂直分屏 | Split vertical |
| `<leader>wo` | 只保留当前窗口 | Window only |
| `<leader>-` | 水平分屏 | 快捷方式 |
| `<leader>\|` | 垂直分屏 | 快捷方式 |

### 窗口大小调整
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+Up` | 增加高度 | Resize +2 |
| `Ctrl+Down` | 减少高度 | Resize -2 |
| `Ctrl+Left` | 减少宽度 | Vertical resize -2 |
| `Ctrl+Right` | 增加宽度 | Vertical resize +2 |
| `<leader>=` | 平衡窗口 | Equal size |

---

## 📑 Buffer 管理

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>bb` | Buffer 列表 | 显示所有 |
| `<leader>bd` | 删除 Buffer | Delete |
| `<leader>bD` | 强制删除 Buffer | Force delete |
| `<leader>bo` | 删除其他 Buffer | Buffer only |
| `Shift+h` | 上一个 Buffer | LazyVim 风格 |
| `Shift+l` | 下一个 Buffer | LazyVim 风格 |
| `[b` | 上一个 Buffer | vim-unimpaired |
| `]b` | 下一个 Buffer | vim-unimpaired |

---

## 🗂️ 标签页管理

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader><tab><tab>` | 新建标签页 | LazyVim 风格 |
| `<leader><tab>d` | 关闭标签页 | Delete tab |
| `<leader><tab>o` | 只保留当前标签页 | Tab only |
| `<leader><tab>]` | 下一个标签页 | Next tab |
| `<leader><tab>[` | 上一个标签页 | Previous tab |
| `<leader><tab>f` | 第一个标签页 | First tab |
| `<leader><tab>l` | 最后一个标签页 | Last tab |

---

## ✏️ 编辑操作

### 基础编辑
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `gc` | 注释/取消注释 | vim-commentary |
| `gcc` | 注释当前行 | Comment line |
| `gC` | 块注释 | Block comment |
| `ga` | 对齐工具 | EasyAlign |

### 包围符操作 (vim-surround)
| 快捷键 | 功能 | 示例 |
|--------|------|------|
| `ys{motion}{char}` | 添加包围符 | `ysiw"` 给单词加引号 |
| `ds{char}` | 删除包围符 | `ds"` 删除引号 |
| `cs{old}{new}` | 替换包围符 | `cs"'` 双引号改单引号 |
| `yss{char}` | 整行包围 | `yss)` 整行加括号 |

### 缩进
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `>` | 向右缩进 | 普通模式 |
| `<` | 向左缩进 | 普通模式 |
| `>` (可视) | 缩进并保持选择 | 可继续缩进 |
| `<` (可视) | 反缩进并保持选择 | 可继续反缩进 |

### 移动行
| 快捷键 | 功能 | 模式 |
|--------|------|------|
| `Alt+j` | 向下移动行 | 普通/插入/可视 |
| `Alt+k` | 向上移动行 | 普通/插入/可视 |

### 粘贴
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `p` (可视) | 粘贴不覆盖寄存器 | 多次粘贴相同内容 |

---

## ⚡ 快速移动

### 基础移动
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `j` / `k` | 可见行移动 | gj / gk |
| `J` | 向下 5 行 | 快速移动 |
| `K` | 向上 5 行 | 快速移动 |
| `H` | 跳转到行首 | 非空白字符 |
| `L` | 跳转到行尾 | 行尾 |
| `gg` | 文件开头 | 第一行 |
| `G` | 文件结尾 | 最后一行 |
| `%` | 跳转配对符号 | 括号/引号 |

### EasyMotion
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `s{char}{char}` | 双字符搜索跳转 | 全屏跳转 |
| `<leader>s{char}` | 单字符搜索跳转 | 全屏跳转 |
| `<leader>/` | 搜索跳转 | EasyMotion 搜索 |

### vim-unimpaired 跳转
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `[b` / `]b` | Buffer 切换 | 上一个/下一个 |
| `[d` / `]d` | 诊断跳转 | LSP 错误 |
| `[h` / `]h` | Git Hunk 跳转 | Git 更改块 |
| `[q` / `]q` | Quickfix 跳转 | 上一个/下一个 |

---

## 🔍 搜索和查找

### 基础搜索
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `/` | 向下搜索 | 输入模式 |
| `?` | 向上搜索 | 输入模式 |
| `n` | 下一个匹配 | 搜索方向 |
| `N` | 上一个匹配 | 反向搜索 |
| `*` | 搜索光标下单词 | 向下 |
| `#` | 搜索光标下单词 | 向上 |

### FZF 搜索
参见 [文件操作](#文件操作) 部分

---

## 🔍 LSP 代码智能

### 导航
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `gd` | 跳转到定义 | Definition |
| `gD` | 垂直分屏跳转定义 | Split definition |
| `gr` | 查找引用 | References |
| `gi` | 跳转到实现 | Implementation |
| `gy` | 跳转到类型定义 | Type definition |
| `K` | 显示悬浮文档 | Hover |

### 代码操作
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>rn` | 重命名符号 | Rename |
| `<leader>ca` | 代码操作 | Code action |
| `<leader>cl` | 行代码操作 | Line code action |
| `<leader>cf` | 格式化代码 | Format |
| `<leader>ca` (可视) | 选区代码操作 | Selected action |
| `<leader>cf` (可视) | 格式化选区 | Format selected |

### 诊断
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `[d` | 上一个诊断 | Previous diagnostic |
| `]d` | 下一个诊断 | Next diagnostic |
| `<leader>cd` | 诊断列表 | Diagnostics list |

### LSP 列表
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>cs` | 符号列表 | Symbols |
| `<leader>co` | 大纲 | Outline |
| `<leader>cc` | 命令列表 | Commands |

### 补全
| 快捷键 | 功能 | 模式 |
|--------|------|------|
| `Tab` | 下一项 | 插入模式 |
| `Shift+Tab` | 上一项 | 插入模式 |
| `Enter` | 确认补全 | 插入模式 |
| `Ctrl+Space` | 手动触发补全 | 插入模式 |

---

## 🌳 Git 操作

### Git 命令 (Fugitive)
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>gg` | Git 状态 | `:Git` |
| `<leader>gd` | Git 差异 | `:Git diff` |
| `<leader>gb` | Git blame | 责任归属 |
| `<leader>gl` | Git 日志 | `:Git log` |
| `<leader>gp` | Git push | 推送 |
| `<leader>gP` | Git pull | 拉取 |
| `<leader>gc` | Git commit | 提交 |
| `<leader>ga` | Git add 当前文件 | 暂存当前 |
| `<leader>gA` | Git add 所有 | 暂存所有 |

### Git Hunk (GitGutter)
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `[h` | 上一个更改块 | Previous hunk |
| `]h` | 下一个更改块 | Next hunk |
| `<leader>hs` | 暂存更改块 | Stage hunk |
| `<leader>hu` | 撤销更改块 | Undo hunk |
| `<leader>hp` | 预览更改块 | Preview hunk |

---

## 🐛 调试功能 (Vimspector)

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `F5` | 继续/启动 | Continue |
| `F3` | 停止 | Stop |
| `F4` | 重启 | Restart |
| `F6` | 暂停 | Pause |
| `F9` | 切换断点 | Toggle breakpoint |
| `F10` | 单步跨越 | Step over |
| `F11` | 单步进入 | Step into |
| `F12` | 单步跳出 | Step out |
| `<leader>du` | 切换调试 UI | Debug UI |
| `<leader>dr` | 重置调试器 | Reset |

---

## 🔨 CMake 构建

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>cg` | CMake 生成 | Generate |
| `<leader>cb` | CMake 构建 | Build |
| `<leader>cr` | CMake 运行 | Run |
| `<leader>ct` | 选择构建类型 | Build type |

---

## 🎨 主题切换

### 内置命令
| 命令 | 主题 |
|------|------|
| `:ThemeTokyoNight` | Tokyo Night (默认) |
| `:ThemeCatppuccin` | Catppuccin Latte |
| `:ThemeOneDark` | OneDark |
| `:ThemeDracula` | Dracula |
| `:ThemeKanagawa` | Kanagawa |

### 可用主题
- **tokyonight** - 现代深色主题
- **catppuccin_latte** - 柔和浅色主题
- **onedark** - Atom 经典主题
- **dracula** - 经典吸血鬼主题
- **kanagawa** - 日式和风主题
- **nightfox** - 深色狐狸主题
- **github_dark** - GitHub 深色主题

---

## 🛠️ 实用工具

### UndoTree (撤销历史)
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>u` | 打开撤销树 | UndoTree |
| `<leader>uu` | 打开撤销树 | 同上 |
| `u` | 撤销 | Undo |
| `Ctrl+r` | 重做 | Redo |

### 多光标 (vim-visual-multi)
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+n` | 选中当前单词 | 多光标 |
| `Ctrl+n` (继续) | 选中下一个 | 添加光标 |
| `Ctrl+x` | 跳过当前 | 跳过 |
| `Ctrl+p` | 返回上一个 | 回退 |
| `Tab` / `Shift+Tab` | 切换光标 | 循环 |

### 选项切换
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>uw` | 切换自动换行 | Wrap |
| `<leader>ur` | 切换相对行号 | Relative number |
| `<leader>un` | 切换行号 | Number |
| `<leader>us` | 切换拼写检查 | Spell |
| `<leader>ul` | 切换不可见字符 | List |
| `<leader>uc` | 切换光标行高亮 | Cursor line |
| `<leader>ux` | 切换光标列高亮 | Cursor column |

### Which-Key (快捷键提示)
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>` (等待) | 显示快捷键提示 | 自动弹出 |

---

## 📚 帮助系统

### Vim 帮助
| 命令 | 功能 |
|------|------|
| `:help {topic}` | 查看帮助（中文） |
| `:Tutor` | Vim 教程 |
| `:h index` | 快捷键索引 |

### 插件管理
| 命令 | 功能 |
|------|------|
| `:PlugInstall` | 安装插件 |
| `:PlugUpdate` | 更新插件 |
| `:PlugClean` | 清理插件 |
| `:PlugStatus` | 插件状态 |

### Coc 帮助
| 命令 | 功能 |
|------|------|
| `:CocCommand` | Coc 命令列表 |
| `:CocList` | Coc 列表 |
| `:CocInfo` | Coc 信息 |
| `:CocConfig` | Coc 配置 |

---

## 💡 实用技巧

### 文件类型智能缩进
- **Python**: 4 空格
- **C/C++**: 4 空格
- **Go**: Tab 字符
- **JavaScript/HTML/CSS**: 2 空格
- **Markdown**: 自动换行

### 自动功能
- ✅ 保存时自动删除行尾空格
- ✅ 持久化撤销（关闭后仍可撤销）
- ✅ WSL 剪贴板自动同步
- ✅ 自动补全括号/引号
- ✅ Git 更改实时显示

### 推荐工作流
1. **打开项目**: `<leader>e` 打开文件树
2. **查找文件**: `<leader>ff` 模糊查找
3. **全文搜索**: `<leader>fg` 搜索内容
4. **代码导航**: `gd` 跳转定义，`gr` 查找引用
5. **代码编辑**: `<leader>rn` 重命名，`<leader>ca` 代码操作
6. **格式化**: `<leader>cf` 格式化代码
7. **Git 操作**: `<leader>gg` 查看状态，`<leader>gc` 提交

---

## 🔗 相关资源

- **Vim 中文文档**: `:help` 直接查看
- **vimcdoc 项目**: https://github.com/yianwillis/vimcdoc
- **LazyVim**: https://www.lazyvim.org/
- **Vim Cheatsheet**: `:help index`

---

**提示**: 所有带 `<leader>` 的快捷键，Leader 键都是 **空格键 (Space)**！
